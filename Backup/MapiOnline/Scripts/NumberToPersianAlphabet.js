function getPart(e) { if (e.length > 3) { return "" } var t = e.toString(); switch (t.length) { case 1: t = "00" + t; break; case 2: t = "0" + t; break } var n = ""; var r = parseInt(t.substr(0, 1)); var i = parseInt(t.substr(1, 1)); var s = parseInt(t.substr(2, 1)); if (r != 0) { switch (i) { case 0: if (s != 0) { n = s_100_900[r - 1] + splitter + s_0_9[s] } else { n = s_100_900[r - 1] } break; case 1: n = s_100_900[r - 1] + splitter + s_10_19[s]; break; default: if (s != 0) { n = s_100_900[r - 1] + splitter + s_20_90[i - 2] + splitter + s_0_9[s] } else { n = s_100_900[r - 1] + splitter + s_20_90[i - 2] } } } else { switch (i) { case 0: if (s != 0) { n = s_0_9[s] } else { n = "" } break; case 1: n = s_10_19[s]; break; default: if (s != 0) { n = s_20_90[i - 2] + splitter + s_0_9[s] } else { n = s_20_90[i - 2] } } } return n } function convertNumberToString(e) { var t = Math.abs(e).toString(); if (t.length == 0) { return "" } if (t == 0) return s_0_9[0]; var n = Math.ceil(parseInt(t).toString().length / 3, 1); if (s_Parts.length < n) return veryBig; var r = new Array; for (var i = 0; i < n; i++) { var s; var o; if (i == 0) { o = t.length - (n - 1) * 3; s = t.substr(i * 3, o) } else { s = t.substr(o + (i - 1) * 3, 3) } var u = getPart(s); var a = n - 2 - i; var f = s_Parts[a]; if (i == n - 1) { f = "" } if (i == 0) { if (u != "") { r[i] = u + " " + f } else { r[i] = "" } } else { if (r[i - 1] != "") { if (u != "") { r[i] = splitter + u + " " + f } else { r[i] = "" } } else { if (u != "") { r[i] = splitter + u + " " + f } else { r[i] = "" } } } } var l = ""; for (var i = 0; i < r.length; i++) { l += r[i] } if (e.substr(0, 1) == "-") { l = negative + " " + l } return l } var s_0_9 = new Array("صفر", "یک", "دو", "سه", "چهار", "پنج", "شش", "هفت", "هشت", "نه"); var s_10_19 = new Array("ده", "یازده", "دوازده", "سیزده", "چهارده", "پانزده", "شانزده", "هفده", "هجده", "نوزده"); var s_20_90 = new Array("بیست", "سی", "چهل", "پنجاه", "شصت", "هفتاد", "هشتاد", "نود"); var s_100_900 = new Array("صد", "دویست", "سیصد", "چهارصد", "پانصد", "ششصد", "هفتصد", "هشتصد", "نهصد"); var s_Parts = new Array("هزار", "میلیون", "میلیارد", "تريليون"); var splitter = " و "; var veryBig = "تعریف نشده"; var negative = "منفی"